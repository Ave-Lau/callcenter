import{d as e,r as a,S as o,o as r,g as t,f as l,C as i,m as p,w as s,Z as m,i as n,$ as d,V as u,e as c,h as j,al as f}from"./index.v8tsX86a.js";import{v as g}from"./el-loading.Dm3FsY53.js";import{E as h}from"./el-card.CmKHoQ-9.js";import{_ as b}from"./index.BhbV12iy.js";import{E as w,a as _}from"./el-table-column.B7mJ8jvq.js";import"./el-checkbox.pAagPbNv.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-popper.Mqpc2_c2.js";import"./el-scrollbar.Bhlo5Ad_.js";/* empty css               */import{a as x,E as v}from"./el-form-item.Bnqn04lm.js";import{E as y}from"./el-button.BLOYf6uz.js";import{E as k}from"./el-date-picker.BwHX7khM.js";import{E}from"./el-input.BsMzjovF.js";import{L as T}from"./log.uyq0Vdga.js";import"./el-pagination.Dp86b6D4.js";import"./el-select.Gwqp6AQy.js";import"./index.B_i03TU-.js";import"./use-form-common-props.BesHhqMc.js";import"./token.DWNpOE8r.js";import"./strings.BfTlauc4.js";import"./error.DLYaCDzj.js";import"./castArray.iqIku5po.js";import"./isEqual.DKtdAyVM.js";import"./_Uint8Array.oWZIoa7E.js";import"./index.DilPsDsr.js";import"./index.DXOljNB1.js";import"./scroll.RmB_wBuD.js";import"./debounce.1urCfl2n.js";import"./_baseIteratee.Dk9qofpS.js";import"./index.BU9_X_cj.js";import"./index.DkfcTd2R.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./index.BPY74GJt.js";import"./index.CB15fv5R.js";import"./index.DiiUm_IX.js";const U={class:"app-container"},V={class:"search-bar"},N=e({name:"Log",inheritAttrs:!1,__name:"index",setup(e){const N=a(),P=a(!1),S=a(0),Y=o({pageNum:1,pageSize:10,keywords:"",createTime:["",""]}),q=a();function z(){P.value=!0,T.getPage(Y).then((e=>{q.value=e.list,S.value=e.total})).finally((()=>{P.value=!1}))}function A(){N.value.resetFields(),Y.pageNum=1,Y.createTime=void 0,z()}return r((()=>{z()})),(e,a)=>{const o=E,r=x,T=k,C=y,F=v,I=_,M=w,D=b,L=h,R=g;return l(),t("div",U,[i("div",V,[p(F,{ref_key:"queryFormRef",ref:N,model:n(Y),inline:!0},{default:s((()=>[p(r,{prop:"keywords",label:"关键字"},{default:s((()=>[p(o,{modelValue:n(Y).keywords,"onUpdate:modelValue":a[0]||(a[0]=e=>n(Y).keywords=e),placeholder:"日志内容",clearable:"",onKeyup:m(z,["enter"])},null,8,["modelValue"])])),_:1}),p(r,{prop:"createTime",label:"操作时间"},{default:s((()=>[p(T,{modelValue:n(Y).createTime,"onUpdate:modelValue":a[1]||(a[1]=e=>n(Y).createTime=e),editable:!1,class:"!w-[240px]",type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"截止时间","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),p(r,null,{default:s((()=>[p(C,{type:"primary",icon:"search",onClick:z},{default:s((()=>a[5]||(a[5]=[d("搜索")]))),_:1,__:[5]}),p(C,{icon:"refresh",onClick:A},{default:s((()=>a[6]||(a[6]=[d("重置")]))),_:1,__:[6]})])),_:1})])),_:1},8,["model"])]),p(L,{shadow:"never"},{default:s((()=>[u((l(),c(M,{data:n(q),"highlight-current-row":"",border:""},{default:s((()=>[p(I,{label:"操作时间",prop:"createTime",width:"180"}),p(I,{label:"操作人",prop:"operator",width:"120"}),p(I,{label:"日志模块",prop:"module",width:"100"}),p(I,{label:"日志内容",prop:"content","min-width":"200"}),p(I,{label:"IP 地址",prop:"ip",width:"150"}),p(I,{label:"地区",prop:"region",width:"150"}),p(I,{label:"浏览器",prop:"browser",width:"150"}),p(I,{label:"终端系统",prop:"os",width:"200","show-overflow-tooltip":""}),p(I,{label:"执行时间(ms)",prop:"executionTime",width:"150"})])),_:1},8,["data"])),[[R,n(P)]]),n(S)>0?(l(),c(D,{key:0,total:n(S),"onUpdate:total":a[2]||(a[2]=e=>f(S)?S.value=e:null),page:n(Y).pageNum,"onUpdate:page":a[3]||(a[3]=e=>n(Y).pageNum=e),limit:n(Y).pageSize,"onUpdate:limit":a[4]||(a[4]=e=>n(Y).pageSize=e),onPagination:z},null,8,["total","page","limit"])):j("",!0)])),_:1})])}}});export{N as default};
